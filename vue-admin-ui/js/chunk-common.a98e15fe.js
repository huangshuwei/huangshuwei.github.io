(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-common"],{"245a":function(e,t,n){"use strict";n.r(t);var a=n("96eb"),o=n.n(a),r=n("b9f8"),i={getApis:function(){return r}},d={errCode:0,errMsg:"",pageSize:1,totalPage:1,pageNum:1,totalRows:1,data:[{id:1,deptId:0,name:"系统管理",parentId:0,order:100,status:1,url:"systemManage",iconClass:"",permissionTag:"",creator:"0",createTime:"2018-10-29 19:12",updater:"0",updateTime:"2018-10-29 19:12"},{id:2,deptId:0,name:"系统设置",parentId:1,order:1,status:1,url:"systemSetting",iconClass:"el-icon-setting",permissionTag:"",creator:"0",createTime:"2018-10-29 19:16",updater:"0",updateTime:"2018-10-29 19:16"},{id:3,deptId:0,name:"部门维护",parentId:2,order:1,status:1,url:"department",permissionTag:"",creator:"0",createTime:"2018-10-29 19:18",updater:"0",updateTime:"2018-10-29 19:18"},{id:4,deptId:0,name:"岗位维护",parentId:2,order:2,status:1,url:"position",permissionTag:"",creator:"0",createTime:"2018-10-29 19:19",updater:"0",updateTime:"2018-10-29 19:19"},{id:5,deptId:0,name:"模块维护",parentId:2,order:3,status:1,url:"module",permissionTag:"",creator:"0",createTime:"2018-10-29 19:19",updater:"0",updateTime:"2018-10-29 19:19"},{id:6,deptId:0,name:"角色维护",parentId:2,order:4,status:1,url:"role",permissionTag:"",creator:"0",createTime:"2018-10-29 19:20",updater:"0",updateTime:"2018-10-29 19:20"},{id:7,deptId:0,name:"员工设置",parentId:1,order:99,status:1,url:"employee",iconClass:"el-icon-setting",permissionTag:"",creator:"0",createTime:"2018-10-29 19:21",updater:"0",updateTime:"2018-10-29 19:21"},{id:8,deptId:0,name:"员工录入",parentId:7,order:99,status:1,url:"addUser",permissionTag:"",creator:"0",createTime:"2018-10-29 19:21",updater:"0",updateTime:"2018-10-29 19:21"},{id:9,deptId:0,name:"组件示例",parentId:0,order:99,status:1,url:"components",permissionTag:"",creator:"0",createTime:"2018-10-29 19:21",updater:"0",updateTime:"2018-10-29 19:21"},{id:10,deptId:0,name:"table 组件",parentId:9,order:99,status:1,url:"tableComps",iconClass:"el-icon-document",permissionTag:"",creator:"0",createTime:"2018-10-29 19:21",updater:"0",updateTime:"2018-10-29 19:21"},{id:11,deptId:0,name:"基础 Table",parentId:10,order:99,status:1,url:"tableBaseComp",iconClass:"el-icon-document",permissionTag:"",creator:"0",createTime:"2018-10-29 19:21",updater:"0",updateTime:"2018-10-29 19:21"}]},c={getMenuInfo:function(){return d}},u={errCode:0,errMsg:"",pageSize:1,totalPage:1,pageNum:1,totalRows:1,data:[{id:1,name:"xx公司",parentId:0,order:1,updater:"系统",updateTime:"2018-10-15 05:10"},{id:2,name:"部门1",parentId:1,order:6,updater:"系统",updateTime:"2018-10-15 05:10"},{id:3,name:"部门2",parentId:1,order:22,updater:"系统",updateTime:"2018-10-15 05:10"},{id:4,name:"部门3",parentId:1,order:28,updater:"系统",updateTime:"2018-11-07 02:11"},{id:5,name:"部门4",parentId:1,order:8,updater:"系统",updateTime:"2018-11-07 02:11"},{id:6,name:"部门5",parentId:1,order:29,updater:"系统",updateTime:"2018-11-07 02:11"},{id:7,name:"部门3-子部门1",parentId:3,order:27,updater:"系统",updateTime:"2018-10-15 05:10"},{id:8,name:"部门3-子部门2",parentId:3,order:16,updater:"系统",updateTime:"2018-10-15 05:10"},{id:9,name:"部门3-子部门3",parentId:3,order:18,updater:"系统",updateTime:"2018-10-15 05:10"},{id:10,name:"部门3-子部门4",parentId:3,order:21,updater:"系统",updateTime:"2018-10-15 05:10"},{id:11,name:"子部门1",parentId:5,order:20,updater:"系统",updateTime:"2018-10-15 05:10"},{id:12,name:"子部门2",parentId:5,order:13,updater:"系统",updateTime:"2018-10-15 05:10"},{id:13,name:"子部门3",parentId:5,order:30,updater:"系统",updateTime:"2018-10-15 05:10"},{id:14,name:"子部门4",parentId:5,order:21,updater:"系统",updateTime:"2018-10-15 05:10"},{id:15,name:"子部门5",parentId:5,order:20,updater:"系统",updateTime:"2018-10-15 05:10"},{id:16,name:"子部门6",parentId:5,order:13,updater:"系统",updateTime:"2018-10-15 05:10"},{id:17,name:"子部门7",parentId:5,order:30,updater:"系统",updateTime:"2018-10-15 05:10"},{id:18,name:"子部门1",parentId:6,order:10,updater:"系统",updateTime:"2018-10-15 05:10"}]},s={getDepartmentTree:function(){return u}};function m(e){if(e=e||window.location.href,-1===e.indexOf("?"))return{};var t="?"===e[0]?e.substr(1):e.substring(e.lastIndexOf("?")+1);if(""===t)return{};t=t.split("&");for(var n={},a=0;a<t.length;a++){var o=t[a].split("=");n[decodeURIComponent(o[0])]=decodeURIComponent(o[1]||"")}return n}var p=[{status:1,msg:"",data:{token:"abcdefghijklmn"}},{status:0,msg:"用户名或密码错误",data:null}],f=[{status:1,msg:"",data:{userName:"admin",token:"abcdefghijklmn",avatar:"",roles:[]}},{status:0,msg:"认证失败，请重新登录",data:null}],l={login:function(e){var t=JSON.parse(e.body),n=t.userName;return console.log(e.body),n=n&&n.trim(),"admin"===n?p[0]:p[1]},getUserInfo:function(e){console.log(e.body);var t=m(e.url),n=t.token;return"abcdefghijklmn"===n?f[0]:f[1]}};o.a.setup({timeout:"100-600"}),o.a.mock(/\/apis.json/,"get",i.getApis),o.a.mock(/\/system\/common\/GetMenuInfo/,"get",c.getMenuInfo),o.a.mock(/\/system\/common\/GetDepartmentTree/,"get",s.getDepartmentTree),o.a.mock(/\/auth\/login/,"post",l.login),o.a.mock(/\/login\/getUserInfo/,"get",l.getUserInfo);t["default"]=o.a},4360:function(e,t,n){"use strict";var a=n("2b0e"),o=n("2f62"),r={},i=n("6e87"),d=n("be3b"),c=n("6736");function u(){return Object(d["a"])({url:"".concat(c["a"].getApiUrl().common,"/system/common/GetMenuInfo"),method:"get"})}function s(e,t){t=t||{};for(var n,a,o,r=t.idKey||"id",i=t.parentKey||"parent",d=t.childrenKey||"children",c=[],u={},s=0,m=e.length;s<m;s++)n=e[s],a=n[r],o=n[i]||0,u[a]=u[a]||[],n[d]=u[a],0!=o?(u[o]=u[o]||[],u[o].push(n)):c.push(n);return c}var m,p=s;function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l,g=(m={},f(m,i["c"],function(e){e.commit(i["c"],{})}),f(m,i["d"],function(e){e.commit(i["d"])}),f(m,i["b"],function(e){return new Promise(function(t,n){u().then(function(a){if(a.data&&Array.isArray(a.data.data)&&a.data.data.length>0){var o=p(a.data.data,{idKey:"id",parentKey:"parentId",childrenKey:"children"});e.commit(i["b"],o),t(o)}else n(a)}).catch(function(e){n(e)})})}),f(m,i["a"],function(e,t){if(t&&0===t.indexOf("/")){t=t.split("/")[1];var n=e.state.root.menuInfo,a=n.find(function(e){return e.url===t});Array.isArray(a.children)&&a.children.length>0?e.commit(i["a"],a):console.log("can't find leftMenuInfo by  ".concat(t))}}),m);function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=(l={},T(l,i["c"],function(e){e.root.isExpand=!e.root.isExpand}),T(l,i["b"],function(e,t){e.root.menuInfo=t}),T(l,i["a"],function(e,t){e.root.leftMenuInfo=t}),T(l,i["d"],function(e){e.root.permission.isRouteLoaded=!0}),l),h={root:{pageMinHeight:600,leftBarExpandWidth:200,leftBarFoldWidth:64,topBarHeight:60,headerOperationHeight:35,contentPadding:12,isExpand:!0,showHeaderOperation:!0,showHomeBreadcrumb:!1,menuInfo:[],leftMenuInfo:{},permission:{isRouteLoaded:!1}}};n("b054");function D(e,t){return Object(d["a"])({url:"/auth/login",method:"post",data:{userName:e,password:t}})}function P(e){return Object(d["a"])({url:"/login/getUserInfo",method:"get",params:{token:e}})}var b,v=n("652e");function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E,y={LOGIN:"login",SET_TOKEN:"setToken",GET_USER_INFO:"getUserInfo"},S={namespaced:!0,state:{token:"",userInfo:null},actions:{login:function(e,t){var n=t.account&&t.account.trim();return new Promise(function(e,a){D(n,t.password).then(function(t){var n=t.data;console.log(n);var a=n.status;1===a&&Object(v["c"])(n.data.token),e(n)}).catch(function(e){a(e)})})},loginOut:function(){return new Promise(function(e){setTimeout(function(){Object(v["b"])(),e()})})},getUserInfo:function(e,t){var n=this,a=t.token;return new Promise(function(e,t){P(a).then(function(a){var o=a.data;console.log(o);var r=o.status;1===r?(n.state.userInfo=o.data,e(o)):t(o)}).catch(function(e){t(e)})})}},mutations:(b={},O(b,y.LOGIN,function(){}),O(b,y.SET_TOKEN,function(e,t){e.token=t}),b)};function A(){return Object(d["a"])({url:"".concat(c["a"].getApiUrl().common,"/system/common/GetDepartmentTree"),method:"get"})}function M(e){return Object(d["a"])({url:"".concat(c["a"].getApiUrl().common,"/system/common/AddDept"),method:"POST",data:{name:e.name,parentId:e.parentId}})}function w(e){return Object(d["a"])({url:"".concat(c["a"].getApiUrl().common,"/system/common/UpdateDept"),method:"POST",data:{name:e.name,id:e.id}})}function j(e){return Object(d["a"])({url:"".concat(c["a"].getApiUrl().common,"/system/common/DeleteDept"),method:"POST",data:{id:e.id}})}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U,_={GET_DEPARTMENT_TREE:"getDepartmentTree",ADD_DEPARTMENT:"addDepartment",UPDATE_DEPARTMENT:"updateDepartment",DELETE_DEPARTMENT:"deleteDepartment"},k={namespaced:!0,state:{departmentTree:[],departmentDataSource:[]},actions:(E={},N(E,_.GET_DEPARTMENT_TREE,function(e){return new Promise(function(t,n){A().then(function(a){var o=a.data;o&&Array.isArray(o.data)&&o.data.length>0?(e.commit("setDepartmentDataSource",o.data),e.commit("setDepartmentTree"),t()):n(a)}).catch(function(e){n(e)})})}),N(E,_.ADD_DEPARTMENT,function(e,t){return new Promise(function(n,a){M(t).then(function(t){if(t&&0===t.data.errCode){var o=t.data.data;e.commit("addDepartmentDataSource",o),e.commit("setDepartmentTree"),n(t)}else a(t.data)}).catch(function(e){a(e)})})}),N(E,_.UPDATE_DEPARTMENT,function(e,t){return new Promise(function(n,a){w(t).then(function(t){if(t&&0===t.data.errCode){var o=t.data.data;e.commit("updateDepartmentDataSource",o),e.commit("setDepartmentTree"),n(t)}else a(t.data)}).catch(function(e){a(e)})})}),N(E,_.DELETE_DEPARTMENT,function(e,t){return new Promise(function(n,a){j(t).then(function(o){o&&0===o.data.errCode?(e.commit("deleteDepartmentDataSource",t.id),e.commit("setDepartmentTree"),n(o)):a(o.data)}).catch(function(e){a(e)})})}),E),mutations:{setDepartmentDataSource:function(e,t){e.departmentDataSource=t},setDepartmentTree:function(e){var t=p(e.departmentDataSource,{idKey:"id",parentKey:"parentId",childrenKey:"children"});e.departmentTree=t},addDepartmentDataSource:function(e,t){e.departmentDataSource.push(t)},updateDepartmentDataSource:function(e,t){var n=e.departmentDataSource.findIndex(function(e){return e.id===t.id});e.departmentDataSource.splice(n,1,t)},deleteDepartmentDataSource:function(e,t){var n=e.departmentDataSource.findIndex(function(e){return e.id===t});e.departmentDataSource.splice(n,1)}}};function C(){return Object(d["a"])({url:"".concat(c["a"].getApiUrl().common,"/system/common/GetPosition"),method:"get"})}function R(e){return Object(d["a"])({url:"".concat(c["a"].getApiUrl().common,"/system/common/AddPosition"),method:"POST",data:{name:e.name,parentId:e.parentId}})}function K(e){return Object(d["a"])({url:"".concat(c["a"].getApiUrl().common,"/system/common/UpdatePosition"),method:"POST",data:{name:e.name,id:e.id}})}function x(e){return Object(d["a"])({url:"".concat(c["a"].getApiUrl().common,"/system/common/DeletePosition"),method:"POST",data:{id:e.id}})}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L={GET_POSITION_TREE:"getPositionTree",ADD_POSITION:"addPosition",UPDATE_POSITION:"updatePosition",DELETE_POSITION:"deletePosition"},B={namespaced:!0,state:{PositionTree:[],PositionDataSource:[]},actions:(U={},G(U,L.GET_POSITION_TREE,function(e){return new Promise(function(t,n){C().then(function(a){var o=a.data;o&&Array.isArray(o.data)&&o.data.length>0?(e.commit("setPositionDataSource",o.data),e.commit("setPositionTree"),t()):n(a)}).catch(function(e){n(e)})})}),G(U,L.ADD_POSITION,function(e,t){return new Promise(function(n,a){R(t).then(function(t){if(t&&0===t.data.errCode){var o=t.data.data;e.commit("addPositionDataSource",o),e.commit("setPositionTree"),n(t)}else a(t.data)}).catch(function(e){a(e)})})}),G(U,L.UPDATE_POSITION,function(e,t){return new Promise(function(n,a){K(t).then(function(t){if(t&&0===t.data.errCode){var o=t.data.data;e.commit("updatePositionDataSource",o),e.commit("setPositionTree"),n(t)}else a(t.data)}).catch(function(e){a(e)})})}),G(U,L.DELETE_POSITION,function(e,t){return new Promise(function(n,a){x(t).then(function(o){o&&0===o.data.errCode?(e.commit("deletePositionDataSource",t.id),e.commit("setPositionTree"),n(o)):a(o.data)}).catch(function(e){a(e)})})}),U),mutations:{setPositionDataSource:function(e,t){e.PositionDataSource=t},setPositionTree:function(e){var t=p(e.PositionDataSource,{idKey:"id",parentKey:"parentId",childrenKey:"children"});e.PositionTree=t},addPositionDataSource:function(e,t){e.PositionDataSource.push(t)},updatePositionDataSource:function(e,t){var n=e.PositionDataSource.findIndex(function(e){return e.id===t.id});e.PositionDataSource.splice(n,1,t)},deletePositionDataSource:function(e,t){var n=e.PositionDataSource.findIndex(function(e){return e.id===t});e.PositionDataSource.splice(n,1)}}};a["default"].use(o["a"]);t["a"]=new o["a"].Store({state:h,getters:r,actions:g,mutations:I,modules:{login:S,department:k,position:B},plugins:[],strict:!1})},"652e":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return d}),n.d(t,"b",function(){return c});var a=n("a78e"),o=n.n(a),r=n("c2de");function i(){return o.a.get(r["a"])}function d(e){return!!r["a"]&&o.a.set(r["a"],e)}function c(){return o.a.remove(r["a"])}},6736:function(e,t,n){"use strict";var a={},o={};function r(e){a=e}function i(){var e="production";return"development"!==e&&"production"!==e&&console.error("process.env.NODE_ENV is ".concat(e,", not 'development' or 'production'.")),Object.keys(o).length>0?o:(Object.keys(a).forEach(function(t){a[t].supportCrossDomain?o[t]=a[t].apiUrl:"development"===e?o[t]=a[t].proxyFlag:"production"===e&&console.error("".concat(e," mod must support cross domain!"))}),o)}function d(e){var t=null;return e?(Object.keys(a).forEach(function(t){if(0===e.indexOf(a[t].apiUrl)&&a[t].auth&&a[t].auth.isAuth)return a[t].auth}),t):t}var c={initApiInfo:r,getApiUrl:i,serveTimeOut:3e4,getAuthInfo:d};t["a"]=c},"6e87":function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return r}),n.d(t,"d",function(){return i});var a="switchLeftBar",o="setMenuInfo",r="setLeftMenuInfo",i="updateRouteLoadInfo"},b9f8:function(e){e.exports={common:{_comment:"通用接口",supportCrossDomain:!1,apiUrl:"http://172.16.60.11:8055",remark:"支持cors",proxyFlag:"commonApi",auth:{isAuth:!0,authKey:"authKey"}}}},be3b:function(e,t,n){"use strict";var a=n("bc3a"),o=n.n(a),r=n("6736"),i=[{code:200,codeMessage:"响应成功"},{code:204,codeMessage:"服务器成功处理了请求，但没有返回任何内容"},{code:401,codeMessage:"权限验证失败"},{code:404,codeMessage:"请求未找到"},{code:408,codeMessage:"请求超时"},{code:500,codeMessage:"服务器异常"},{code:0,codeMessage:"未知异常"}];function d(e){var t=i.find(function(t){return t.code===e});return t||console.log("getCodeInfo::","can not find response code ".concat(e,".")),t}var c=d;function u(e,t,n){var a;return 1===e?(a={data:null,code:-1,codeMessage:"",dataType:"json",requestType:"jsonp"},n?"Timeout"===n.message?(a.code=408,a.codeMessage=c(a.code).codeMessage):(a.code=500,a.codeMessage=c(a.code).codeMessage):t?(a.code=200,a.codeMessage=c(a.code).codeMessage,a.data=t):(a.code=204,a.codeMessage=c(a.code).codeMessage)):2===e&&(n&&(n.response?(a=n.response,404===a.status||401===a.status?a.code=a.status:a.code=500,a.codeMessage=c(a.code).codeMessage):n.request?(a=n.request,n.message&&n.message.includes("timeout")?a.code=408:a.code=204,a.codeMessage=c(a.code).codeMessage):(a={},a.code=0,a.codeMessage=c(a.code).codeMessage)),t&&(a=t,a.code=200,a.codeMessage=c(a.code).codeMessage)),a}var s=u,m=n("652e"),p=o.a.create({timeout:r["a"].serveTimeOut});p.interceptors.request.use(function(e){var t=r["a"].getAuthInfo(e.url);return t&&t.authKey&&(e.headers[t.authKey]=Object(m["a"])()),e},function(e){Promise.reject(e)}),p.interceptors.response.use(function(e){var t=s(2,e,null);return 200===t.code?t:Promise.reject(t)},function(e){var t=s(2,null,e);return Promise.reject(t)});t["a"]=p},c2de:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o});var a="Auth-Token-Key",o="/login.html"}}]);
//# sourceMappingURL=chunk-common.a98e15fe.js.map